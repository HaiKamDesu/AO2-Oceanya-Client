<Window x:Class="OceanyaClient.ServerSelectionDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Select Server"
        Height="590"
        Width="760"
        MinHeight="540"
        MinWidth="720"
        ResizeMode="CanResize"
        WindowStartupLocation="CenterOwner"
        Icon="/Resources/OceanyaO.ico"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Loaded="Window_Loaded">

    <Window.Resources>
        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Background" Value="#22FFFFFF"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#444444"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8,5"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Height" Value="30"/>
        </Style>

        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="#FF262626"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#444444"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,5"/>
            <Setter Property="Height" Value="30"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ButtonBorder"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="3">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF3D3D3D" TargetName="ButtonBorder"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FF171717" TargetName="ButtonBorder"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#FF1A1A1A" TargetName="ButtonBorder"/>
                                <Setter Property="BorderBrush" Value="#FF333333" TargetName="ButtonBorder"/>
                                <Setter Property="Foreground" Value="#FF7A7A7A"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="CloseButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ButtonBorder"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FFE81123" TargetName="ButtonBorder"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FFC41E3A" TargetName="ButtonBorder"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ModernTabControl" TargetType="TabControl">
            <Setter Property="Background" Value="#FF252525"/>
            <Setter Property="BorderBrush" Value="#444444"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style x:Key="ModernTabItem" TargetType="TabItem">
            <Setter Property="Foreground" Value="#D6D6D6"/>
            <Setter Property="Background" Value="#FF262626"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Border x:Name="TabBorder"
                                BorderBrush="#444444"
                                BorderThickness="1,1,1,0"
                                Background="{TemplateBinding Background}"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter ContentSource="Header" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="TabBorder" Property="Background" Value="#FF3A3A3A"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="TabBorder" Property="Background" Value="#FF333333"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ServerListViewStyle" TargetType="ListView">
            <Setter Property="Background" Value="#FF262626"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#444444"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>

        <Style x:Key="ServerListItemStyle" TargetType="ListViewItem">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="#00000000"/>
            <Setter Property="Padding" Value="3"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListViewItem">
                        <Border x:Name="ItemBorder"
                                Background="{TemplateBinding Background}"
                                SnapsToDevicePixels="True">
                            <GridViewRowPresenter Margin="2,0,2,0"
                                                  VerticalAlignment="Center"
                                                  Content="{TemplateBinding Content}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <DataTrigger Binding="{Binding IsSelectable}" Value="True">
                                <Setter TargetName="ItemBorder" Property="Background" Value="#264A5E4A"/>
                                <Setter Property="Foreground" Value="#CFEBCF"/>
                            </DataTrigger>

                            <DataTrigger Binding="{Binding IsSelectable}" Value="False">
                                <Setter TargetName="ItemBorder" Property="Background" Value="#265E4A4A"/>
                                <Setter Property="Foreground" Value="#F0CACA"/>
                            </DataTrigger>

                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ItemBorder" Property="Background" Value="#355F5F5F"/>
                            </Trigger>

                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="ItemBorder" Property="Background" Value="#4B6D6D6D"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ServerGridHeaderStyle" TargetType="GridViewColumnHeader">
            <Setter Property="Foreground" Value="#D8D8D8"/>
            <Setter Property="Background" Value="#FF2F2F2F"/>
            <Setter Property="BorderBrush" Value="#444444"/>
            <Setter Property="BorderThickness" Value="0,0,1,1"/>
            <Setter Property="Padding" Value="6,4"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <EventSetter Event="Click" Handler="GridHeader_Click"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="GridViewColumnHeader">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter Margin="0"
                                              VerticalAlignment="Center"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="LabelText" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#CCCCCC"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Margin" Value="0,8,0,4"/>
        </Style>

        <Storyboard x:Key="FadeIn">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.2"/>
        </Storyboard>
        <Storyboard x:Key="FadeOut">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:0.2"/>
        </Storyboard>
    </Window.Resources>

    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard Storyboard="{StaticResource FadeIn}"/>
        </EventTrigger>
    </Window.Triggers>

    <Border BorderBrush="#222222" BorderThickness="1" CornerRadius="5">
        <Grid Margin="0,0,-1,-1">
            <Rectangle HorizontalAlignment="Center" Width="760" Height="590" VerticalAlignment="Top" Margin="0,30,0,0">
                <Rectangle.Fill>
                    <ImageBrush ImageSource="/Resources/scoienceblur.jpg" Opacity="0.5"/>
                </Rectangle.Fill>
            </Rectangle>

            <Rectangle HorizontalAlignment="Center" Width="760" Height="590" VerticalAlignment="Top" Margin="0,30,0,0" Fill="#7F000000"/>

            <Rectangle HorizontalAlignment="Left" Width="240" Height="240" VerticalAlignment="Top" Margin="18,58,0,0" IsHitTestVisible="False">
                <Rectangle.Fill>
                    <ImageBrush ImageSource="/Resources/Logo_Oceanya.png" Stretch="Uniform" Opacity="0.08"/>
                </Rectangle.Fill>
            </Rectangle>

            <Rectangle HorizontalAlignment="Right" Width="220" Height="90" VerticalAlignment="Top" Margin="0,48,18,0" IsHitTestVisible="False">
                <Rectangle.Fill>
                    <ImageBrush ImageSource="/Resources/Logo_Laboratories.png" Stretch="Uniform" Opacity="0.10"/>
                </Rectangle.Fill>
            </Rectangle>

            <Rectangle HorizontalAlignment="Center" Width="430" Height="300" VerticalAlignment="Top" Margin="0,24,0,0">
                <Rectangle.Fill>
                    <ImageBrush ImageSource="/Resources/Logo_O.png" Stretch="Uniform" Opacity="0.09"/>
                </Rectangle.Fill>
            </Rectangle>

            <Border Height="30" VerticalAlignment="Top" Background="#CC000000" MouseLeftButtonDown="DragWindow">
                <Grid>
                    <Rectangle HorizontalAlignment="Left" Width="129" Height="30" VerticalAlignment="Center">
                        <Rectangle.Fill>
                            <ImageBrush ImageSource="/Resources/Logo_Oceanya.png"/>
                        </Rectangle.Fill>
                    </Rectangle>

                    <TextBlock Text="SERVER SELECTOR"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Foreground="#E0E0E0"
                               FontWeight="Bold"
                               FontSize="13"/>

                    <Button x:Name="CloseButton"
                            Content="âœ•"
                            HorizontalAlignment="Right"
                            Width="30"
                            Style="{StaticResource CloseButtonStyle}"
                            Click="CloseButton_Click"/>

                    <Rectangle HorizontalAlignment="Left" Width="157" Height="23" VerticalAlignment="Top" Margin="129,6,0,0">
                        <Rectangle.Fill>
                            <ImageBrush ImageSource="/Resources/Logo_Laboratories.png" Stretch="Uniform"/>
                        </Rectangle.Fill>
                    </Rectangle>
                </Grid>
            </Border>

            <Grid Margin="12,40,12,12">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Grid Grid.Row="0" Margin="0,0,0,8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBox x:Name="SearchTextBox"
                             Grid.Column="0"
                             Style="{StaticResource ModernTextBox}"
                             Background="#FF262626"
                             VerticalContentAlignment="Center"
                             TextChanged="SearchTextBox_TextChanged"
                             ToolTip="Search by name, endpoint, or description"/>

                    <Button x:Name="RefreshPollButton"
                            Grid.Column="1"
                            Margin="10,0,0,0"
                            Width="130"
                            Style="{StaticResource ModernButton}"
                            Content="REFRESH POLL"
                            Click="RefreshPollButton_Click"/>
                </Grid>

                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2.5*"/>
                        <ColumnDefinition Width="1.2*"/>
                    </Grid.ColumnDefinitions>

                    <TabControl x:Name="ServerTabs"
                                Grid.Column="0"
                                Style="{StaticResource ModernTabControl}"
                                SelectionChanged="ServerTabs_SelectionChanged">
                        <TabItem Header="Defaults" Style="{StaticResource ModernTabItem}">
                            <Grid Margin="8">
                                <ListView x:Name="DefaultsListView"
                                          Style="{StaticResource ServerListViewStyle}"
                                          ItemContainerStyle="{StaticResource ServerListItemStyle}"
                                          SelectionChanged="ServerListView_SelectionChanged"
                                          MouseDoubleClick="ServerListView_MouseDoubleClick">
                                    <ListView.View>
                                        <GridView ColumnHeaderContainerStyle="{StaticResource ServerGridHeaderStyle}">
                                            <GridViewColumn Header="ID" Width="44" DisplayMemberBinding="{Binding DisplayId}"/>
                                            <GridViewColumn Header="Name" Width="245" DisplayMemberBinding="{Binding Name}"/>
                                            <GridViewColumn Header="Players" Width="86" DisplayMemberBinding="{Binding PlayersText}"/>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </Grid>
                        </TabItem>

                        <TabItem Header="AO Server Poll" Style="{StaticResource ModernTabItem}">
                            <Grid Margin="8">
                                <ListView x:Name="AoPollListView"
                                          Style="{StaticResource ServerListViewStyle}"
                                          ItemContainerStyle="{StaticResource ServerListItemStyle}"
                                          SelectionChanged="ServerListView_SelectionChanged"
                                          MouseDoubleClick="ServerListView_MouseDoubleClick">
                                    <ListView.View>
                                        <GridView ColumnHeaderContainerStyle="{StaticResource ServerGridHeaderStyle}">
                                            <GridViewColumn Header="ID" Width="44" DisplayMemberBinding="{Binding DisplayId}"/>
                                            <GridViewColumn Header="Name" Width="245" DisplayMemberBinding="{Binding Name}"/>
                                            <GridViewColumn Header="Players" Width="86" DisplayMemberBinding="{Binding PlayersText}"/>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </Grid>
                        </TabItem>

                        <TabItem Header="Favorites" Style="{StaticResource ModernTabItem}">
                            <Grid Margin="8">
                                <ListView x:Name="FavoritesListView"
                                          Style="{StaticResource ServerListViewStyle}"
                                          ItemContainerStyle="{StaticResource ServerListItemStyle}"
                                          SelectionChanged="ServerListView_SelectionChanged"
                                          MouseDoubleClick="ServerListView_MouseDoubleClick">
                                    <ListView.View>
                                        <GridView ColumnHeaderContainerStyle="{StaticResource ServerGridHeaderStyle}">
                                            <GridViewColumn Header="ID" Width="44" DisplayMemberBinding="{Binding DisplayId}"/>
                                            <GridViewColumn Header="Name" Width="245" DisplayMemberBinding="{Binding Name}"/>
                                            <GridViewColumn Header="Players" Width="86" DisplayMemberBinding="{Binding PlayersText}"/>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </Grid>
                        </TabItem>
                    </TabControl>

                    <Border Grid.Column="1" Margin="10,0,0,0" BorderBrush="#444444" BorderThickness="1" Background="#CC262626" Padding="10">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <TextBlock Text="Server Info"
                                       Foreground="#F8A818"
                                       FontWeight="Bold"
                                       FontSize="14"
                                       HorizontalAlignment="Center"/>

                            <TextBlock x:Name="SelectionSummaryTextBlock"
                                       Grid.Row="1"
                                       Text="Select a server to inspect details."
                                       Foreground="#DDDDDD"
                                       Margin="0,8,0,0"
                                       TextWrapping="Wrap"/>

                            <TextBlock x:Name="SelectedEndpointTextBlock"
                                       Grid.Row="2"
                                       Text=""
                                       Foreground="#B8B8B8"
                                       Margin="0,6,0,0"
                                       TextWrapping="Wrap"/>

                            <TextBlock x:Name="NotSelectableReasonTextBlock"
                                       Grid.Row="3"
                                       Text=""
                                       Foreground="#E0B6B6"
                                       Margin="0,6,0,0"
                                       TextWrapping="Wrap"/>

                            <Border Grid.Row="4"
                                    Margin="0,8,0,0"
                                    Background="#FF232323"
                                    BorderBrush="#444444"
                                    BorderThickness="1">
                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                    <TextBlock x:Name="DescriptionTextBlock"
                                               Margin="6"
                                               Foreground="White"
                                               TextWrapping="Wrap"/>
                                </ScrollViewer>
                            </Border>
                        </Grid>
                    </Border>
                </Grid>

                <Grid Grid.Row="2" Margin="0,10,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Button x:Name="AddFavoriteButton"
                                Grid.Column="1"
                                Width="110"
                                Content="ADD FAVORITE"
                                Margin="8,0,0,0"
                                Style="{StaticResource ModernButton}"
                                Click="AddFavoriteButton_Click"/>

                        <Button x:Name="EditFavoriteButton"
                                Grid.Column="2"
                                Width="110"
                                Content="EDIT FAVORITE"
                                Margin="8,0,0,0"
                                Style="{StaticResource ModernButton}"
                                IsEnabled="False"
                                Click="EditFavoriteButton_Click"/>

                        <Button x:Name="RemoveFavoriteButton"
                                Grid.Column="3"
                                Width="130"
                                Content="REMOVE FAVORITE"
                                Margin="8,0,0,0"
                                Style="{StaticResource ModernButton}"
                                IsEnabled="False"
                                Click="RemoveFavoriteButton_Click"/>

                        <Button x:Name="CancelButton"
                                Grid.Column="5"
                                Width="90"
                                Content="CANCEL"
                                Margin="14,0,0,0"
                                Style="{StaticResource ModernButton}"
                                Click="CancelButton_Click"/>

                        <Button x:Name="SelectButton"
                                Grid.Column="6"
                                Width="90"
                                Content="SELECT"
                                Margin="8,0,0,0"
                                Style="{StaticResource ModernButton}"
                                IsEnabled="False"
                                Click="SelectButton_Click"/>
                    </Grid>

                    <TextBlock x:Name="StatusTextBlock"
                               Grid.Row="1"
                               Margin="0,8,0,0"
                               Text="Ready."
                               Foreground="#B5B5B5"
                               TextWrapping="Wrap"/>
                </Grid>
            </Grid>
        </Grid>
    </Border>
</Window>
